<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset=" utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="renderer" content="webkit" />
	<title>倉庫管理システム</title>
	<link rel="shortcut icon" href="https://i.jpg.dog/3239c9f8261900ee0a360263c616c50d.png" />
	<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
	<script src="https://cdn.jsdelivr.net/npm/@unocss/runtime"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.7.15/vue.min.js"></script>
	<script src="https://unpkg.com/element-ui/lib/index.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.2/axios.min.js"></script>
</head>
<body>
  <div id="app">
	  <h1>home</h1>
	  <el-button type="info" plain  @click="logout">退出登录</el-button>
	  
	  
	  
  </div>
  <script>
    new Vue({
      el: '#app',
      data() {
        return {
          msg: '登录成功！',
        }
      },
      computed: { },
      created() { },
      mounted() { 
		if (sessionStorage.getItem('firstIn') == 'true') {
			this.hello()
			sessionStorage.setItem('firstIn', 'false');
		}
	  },
      methods: {
		async logout(){
			let res = await axios({
                url: 'http://localhost:8888/api/logout',
                method: 'get',
            })
              console.log('res-------->', res)
              if (String(res.data.code) === '1') {
                localStorage.setItem('userInfo', '')
                location.reload()
              } else {
                this.$message.error(res.data.msg)
              }
		  },
        hello() {
		  this.$message({
	          message: this.msg,
	          type: 'success'
	        })
        },
      },
    })
  </script>
  <style>
    html body {
      margin: 0;
      padding: 0;
      height: 100%;
    }
    .el-form-item__content {
    display: flex;
    justify-content: space-around;
	}
  </style>
</body>
</html>